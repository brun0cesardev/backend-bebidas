{"version":3,"file":"createWindowsService.js","names":["serviceLog","EventLogger","options","name","description","script","path","join","__dirname","nodeOptions","srv","Service","on","start","info","error"],"sources":["../src/createWindowsService.js"],"sourcesContent":["/* eslint-disable prettier/prettier */\r\nimport path from 'path';\r\nimport { Service } from 'node-windows';\r\nimport { EventLogger } from 'node-windows';\r\nconst serviceLog = new EventLogger();\r\nconst options = {\r\n  name: 'Sisplan-Whatsapp-Api',\r\n  description: 'Api Sisplan para comunicação com whatsapp',\r\n  script: path.join(__dirname, '/server.js'),\r\n  nodeOptions: '--harmony',\r\n};\r\nexport const srv = () => {\r\n  const srv = new Service(options);\r\n\r\n  srv.on('install', () => {\r\n    srv.start();\r\n    serviceLog.info('Service installed successfully');\r\n    serviceLog.info('Windows Sisplan-Whatsapp-Api service installed!');\r\n  });\r\n\r\n  srv.on('uninstall', () => {\r\n  serviceLog.info('Service uninstalled successfully');\r\n  serviceLog.info('Windows Sisplan-Whatsapp-Api service uninstalled!');\r\n  });\r\n\r\n  srv.on('start', async () => {\r\n  serviceLog.info('Service started successfully');\r\n  serviceLog.info('Windows Sisplan-Whatsapp-Api service running!');\r\n  });\r\n\r\n  srv.on('stop', async () => {\r\n  serviceLog.info('Service stopped successfully');\r\n  serviceLog.info('Windows Sisplan-Whatsapp-Api service stopped!');\r\n  });\r\n\r\n  srv.on('invalidinstallation', () => {\r\n  serviceLog.info('Service installation failed');\r\n  serviceLog.error('Windows Sisplan-Whatsapp-Api service invalid installation!');\r\n  });\r\n\r\n  srv.on('error', () => {\r\n  serviceLog.info('Service error');\r\n  serviceLog.error('Windows Sisplan-Whatsapp-Api service error!');\r\n  });\r\n\r\n  return srv;\r\n  };\r\n"],"mappings":";AACA;AACA,2C,CAFA;;AAIA,MAAMA,UAAU,GAAG,IAAIC,wBAAJ,EAAnB;AACA,MAAMC,OAAO,GAAG;EACdC,IAAI,EAAE,sBADQ;EAEdC,WAAW,EAAE,2CAFC;EAGdC,MAAM,EAAEC,aAAA,CAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAHM;EAIdC,WAAW,EAAE,WAJC,EAAhB;;AAMO,MAAMC,GAAG,GAAG,MAAM;EACvB,MAAMA,GAAG,GAAG,IAAIC,oBAAJ,CAAYT,OAAZ,CAAZ;;EAEAQ,GAAG,CAACE,EAAJ,CAAO,SAAP,EAAkB,MAAM;IACtBF,GAAG,CAACG,KAAJ;IACAb,UAAU,CAACc,IAAX,CAAgB,gCAAhB;IACAd,UAAU,CAACc,IAAX,CAAgB,iDAAhB;EACD,CAJD;;EAMAJ,GAAG,CAACE,EAAJ,CAAO,WAAP,EAAoB,MAAM;IAC1BZ,UAAU,CAACc,IAAX,CAAgB,kCAAhB;IACAd,UAAU,CAACc,IAAX,CAAgB,mDAAhB;EACC,CAHD;;EAKAJ,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,YAAY;IAC5BZ,UAAU,CAACc,IAAX,CAAgB,8BAAhB;IACAd,UAAU,CAACc,IAAX,CAAgB,+CAAhB;EACC,CAHD;;EAKAJ,GAAG,CAACE,EAAJ,CAAO,MAAP,EAAe,YAAY;IAC3BZ,UAAU,CAACc,IAAX,CAAgB,8BAAhB;IACAd,UAAU,CAACc,IAAX,CAAgB,+CAAhB;EACC,CAHD;;EAKAJ,GAAG,CAACE,EAAJ,CAAO,qBAAP,EAA8B,MAAM;IACpCZ,UAAU,CAACc,IAAX,CAAgB,6BAAhB;IACAd,UAAU,CAACe,KAAX,CAAiB,4DAAjB;EACC,CAHD;;EAKAL,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,MAAM;IACtBZ,UAAU,CAACc,IAAX,CAAgB,eAAhB;IACAd,UAAU,CAACe,KAAX,CAAiB,6CAAjB;EACC,CAHD;;EAKA,OAAOL,GAAP;AACC,CAnCI,C"}